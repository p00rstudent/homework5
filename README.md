# homework5

Анализ логов веб-сервера

Собирает статистику по одному или нескольким файлам логов.

Аргументы запуска:
'--logs_dir' - директория с логами
'--pattern' - паттерн поиска логов в директории, по умолчанию '*.log'
'--log_file' - путь к отдельному логу
'--output' - путь к json-файлу, куда будет сохранен результат обработки логов

Результат представляет собой список словарей, каждый словарь - результат работы одного обработчика. Обработчики записей
логов реализованы отдельно друг от друга.

Пример запуска и ответа:

    python3 ./main.py --logs_dir ./logs/

```json
[
  {'count_by_type': 
    {'GET': 131836, 'POST': 490980, 'HEAD': 1444, 'PUT': 12, 'OPTIONS': 2}
  },
  {'top_ip_by_freq': 
  [('193.106.31.130', 470306), ('54.37.76.123', 12020), ('51.75.7.84', 7408)]
  }, 
  {'top_req_by_time': 
    [
      {'method': 'POST', 'url': '/administrator/index.php', 'ip': '176.31.245.146', 'datetime': '[03/Dec/2016:19:23:36+0100]', 'time': '9999'}, 
      {'method': 'GET', 'url': '/apache-log/access.log', 'ip': '178.159.37.81', 'datetime': '[12/Jun/2017:23:27:25+0200]', 'time': '9999'}, 
      {'method': 'POST', 'url': '/administrator/index.php', 'ip': '54.39.184.155', 'datetime': '[31/Oct/2018:10:33:29+0100]', 'time': '9999'}
    ],
  }
]
```